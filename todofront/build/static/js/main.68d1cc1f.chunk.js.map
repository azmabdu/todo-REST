{"version":3,"sources":["App.js","index.js"],"names":["App","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","todoList","activeItem","id","title","completed","editing","fetchTasks","bind","assertThisInitialized","handleChange","handleSubmit","getCookie","startEdit","deleteItem","strikeUnstrike","inherits","createClass","key","value","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","_this2","console","log","fetch","then","response","json","data","setState","e","target","objectSpread","_this3","preventDefault","csrftoken","url","concat","method","headers","Content-type","X-CSRFToken","body","JSON","stringify","catch","error","task","_this4","_this5","tasks","self","react_default","a","createElement","className","onSubmit","style","flex","onChange","type","placeholder","map","index","onClick","React","Component","ReactDOM","createRoot","getElementById","render","StrictMode","src_App_0"],"mappings":"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","file":"static/js/main.68d1cc1f.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\n\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n      this.state = {\n        todoList:[],\n        activeItem:{\n          id:null,\n          title:'',\n          completed:false,\n        },\n        editing:false,\n      }\n      this.fetchTasks = this.fetchTasks.bind(this)\n      this.handleChange = this.handleChange.bind(this)\n      this.handleSubmit = this.handleSubmit.bind(this)\n      this.getCookie = this.getCookie.bind(this)\n\n\n      this.startEdit = this.startEdit.bind(this)\n      this.deleteItem = this.deleteItem.bind(this)\n      this.strikeUnstrike = this.strikeUnstrike.bind(this)\n  };\n\n  getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\n  componentWillMount(){\n    this.fetchTasks()\n  }\n\n  fetchTasks(){\n    console.log('Fetching...')\n\n    fetch('/api/list')\n    .then(response => response.json())\n    .then(data =>\n      this.setState({\n        todoList:data\n      })\n      )\n  }\n\n  handleChange(e){\n    var name = e.target.name\n    var value = e.target.value\n    console.log('Name:', name)\n    console.log('Value:', value)\n\n    this.setState({\n      activeItem:{\n        ...this.state.activeItem,\n        title:value\n      }\n    })\n  }\n\n  handleSubmit(e){\n    e.preventDefault()\n    console.log('ITEM:', this.state.activeItem)\n\n    var csrftoken = this.getCookie('csrftoken')\n\n    var url = '/api/create'\n\n    if(this.state.editing === true){\n      url = `/api/update/${this.state.activeItem.id}`\n      this.setState({\n        editing:false\n      })\n    }\n\n\n\n    fetch(url, {\n      method:'POST',\n      headers:{\n        'Content-type':'application/json',\n        'X-CSRFToken':csrftoken,\n      },\n      body:JSON.stringify(this.state.activeItem)\n    }).then((response)  => {\n        this.fetchTasks()\n        this.setState({\n           activeItem:{\n          id:null,\n          title:'',\n          completed:false,\n        }\n        })\n    }).catch(function(error){\n      console.log('ERROR:', error)\n    })\n\n  }\n\n  startEdit(task){\n    this.setState({\n      activeItem:task,\n      editing:true,\n    })\n  }\n\n\n  deleteItem(task){\n    var csrftoken = this.getCookie('csrftoken')\n\n    fetch(`/api/delete/${task.id}`, {\n      method:'DELETE',\n      headers:{\n        'Content-type':'application/json',\n        'X-CSRFToken':csrftoken,\n      },\n    }).then((response) =>{\n\n      this.fetchTasks()\n    })\n  }\n\n\n  strikeUnstrike(task){\n\n    task.completed = !task.completed\n    var csrftoken = this.getCookie('csrftoken')\n    var url = `/api/update/${task.id}`\n\n      fetch(url, {\n        method:'POST',\n        headers:{\n          'Content-type':'application/json',\n          'X-CSRFToken':csrftoken,\n        },\n        body:JSON.stringify({'completed': task.completed, 'title':task.title})\n      }).then(() => {\n        this.fetchTasks()\n      })\n\n    console.log('TASK:', task.completed)\n  }\n\n\n  render(){\n    var tasks = this.state.todoList\n    var self = this\n    return(\n        <div className=\"container\">\n\n          <div id=\"task-container\">\n              <div  id=\"form-wrapper\">\n                 <form onSubmit={this.handleSubmit}  id=\"form\">\n                    <div className=\"flex-wrapper\">\n                        <div style={{flex: 6}}>\n                            <input onChange={this.handleChange} className=\"form-control\" id=\"title\" value={this.state.activeItem.title} type=\"text\" name=\"title\" placeholder=\"Add task..\" />\n                         </div>\n\n                         <div style={{flex: 1}}>\n                            <input id=\"submit\" className=\"btn btn-warning\" type=\"submit\" name=\"Add\" />\n                          </div>\n                      </div>\n                </form>\n\n              </div>\n\n              <div  id=\"list-wrapper\">\n                    {tasks.map(function(task, index){\n                      return(\n                          <div key={index} className=\"task-wrapper flex-wrapper\">\n\n                            <div onClick={() => self.strikeUnstrike(task)} style={{flex:7}}>\n\n                                {task.completed === false ? (\n                                    <span>{task.title}</span>\n\n                                  ) : (\n\n                                    <strike>{task.title}</strike>\n                                  )}\n\n                            </div>\n\n                            <div style={{flex:1}}>\n                                <button onClick={() => self.startEdit(task)} className=\"btn btn-sm btn-outline-info\">Edit</button>\n                            </div>\n\n                            <div style={{flex:1}}>\n                                <button onClick={() => self.deleteItem(task)} className=\"btn btn-sm btn-outline-dark delete\">Remove</button>\n                            </div>\n\n                          </div>\n                        )\n                    })}\n              </div>\n          </div>\n\n        </div>\n      )\n  }\n}\n\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}